<!DOCTYPE node PUBLIC "-//freedesktop//DTD D-BUS Object Introspection 1.0//EN"
 "http://www.freedesktop.org/standards/dbus/1.0/introspect.dtd">
<!--
  SPDX-License-Identifier: CC0-1.0
  SPDX-FileCopyrightText: none
-->
<node>
    <!--
        The main interface to request secretprompter to show prompts.
        The prompt methods expect a request object which implements the
        org.kde.secretprompter.request interface on your side of the bus.
        It essentially acts as a callback point for the prompter and avoids
        race conditions during initialization.
        This is the version 1 of the protocol.
    -->
    <interface name="org.kde.secretprompter">
        <!--
            This property describes the version of the protocol, clients should check it in order
            to make sure they're compatible
        -->
        <property name="Version" type="u" access="read"/>

        <!-- Prompt for unlocking of a secrets collection with nice UI -->
        <method name="UnlockCollectionPrompt">
            <!-- DBus path to the client prompt request -->
            <arg name="request" type="o" direction="in"/>
            <!--
                An xdg-desktop-portal-style window identifier
                https://flatpak.github.io/xdg-desktop-portal/docs/window-identifiers.html
            -->
            <arg name="window_id" type="s" direction="in"/>
            <!--
                A wayland activation token
                https://wayland.app/protocols/xdg-activation-v1
            -->
            <arg name="activation_token" type="s" direction="in"/>
            <!-- The name of a secret collection (aka wallet) -->
            <arg name="collection_name" type="s" direction="in"/>
        </method>

        <!-- Prompt for creation of a secrets collection with nice UI -->
        <method name="CreateCollectionPrompt">
            <!-- DBus path to the client prompt request -->
            <arg name="request" type="o" direction="in"/>
            <!--
                An xdg-desktop-portal-style window identifier
                https://flatpak.github.io/xdg-desktop-portal/docs/window-identifiers.html
            -->
            <arg name="window_id" type="s" direction="in"/>
            <!--
                A wayland activation token
                https://wayland.app/protocols/xdg-activation-v1
            -->
            <arg name="activation_token" type="s" direction="in"/>
            <!-- The name of a secret collection (aka wallet) -->
            <arg name="collection_name" type="s" direction="in"/>
        </method>

    </interface>
</node>
